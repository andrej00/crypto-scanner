import{d as C,A as E,B as N,r as h,C as v,f as o,h as c,i as u,F as b,D as f,u as y,E as w,H as d}from"./vendor.812926c1.js";import{u as T}from"./binance_socket.dd717b4e.js";const D={class:"flex"},V={class:"nesto-drugo"},$={class:"mb-20"},A=u("hr",{class:"my-2"},null,-1),z=C({setup(j){const k=E(),p=T(),g=k.params.id;p.connectToTickerStream(g.toLowerCase()),p.fetchDepthSnapShot(g);const{getDepthSnapshot:n}=N(p);let i=h(0),l=h(0);const x=v(()=>{var s,e,r;let a=(s=n.value.asks)==null?void 0:s.slice(0,15).map(t=>t[1]).sort((t,m)=>t-m);return a&&(i=a[0],l=a[14]),(e=n.value.asks)==null||e.slice(0,15).map(t=>{t[2]=10+(t[1]-i)/(l-i)*90}),(r=n.value.asks)==null?void 0:r.slice(0,15).reverse()}),S=v(()=>{var s,e,r;let a=(s=n.value.bids)==null?void 0:s.slice(0,15).map(t=>t[1]).sort((t,m)=>t-m);return a&&(i=a[0],l=a[14]),(e=n.value.bids)==null||e.slice(0,15).map(t=>{t[2]=10+(t[1]-i)/(l-i)*90}),(r=n.value.bids)==null?void 0:r.slice(0,15)}),_="vue-trading-view",B={width:"100%",height:"100%",symbol:`BINANCE:${g}`,interval:"15",timezone:"Europe/Belgrade",theme:"dark",style:"1",locale:"en",toolbar_bg:"#f1f3f6",enable_publishing:!1,hide_side_toolbar:!1,studies:["Volume@tv-basicstudies","VWAP@tv-basicstudies"]};return(a=>{const s=document.createElement("script");s.type="text/javascript",s.async=!0,s.src="https://s3.tradingview.com/tv.js",s.onload=a,document.getElementsByTagName("head")[0].appendChild(s)})(()=>{new window.TradingView.widget(Object.assign({container_id:_},B))}),(a,s)=>(o(),c("div",D,[u("section",{id:_}),u("section",V,[u("div",$,[(o(!0),c(b,null,f(y(x),e=>(o(),c("p",{class:"text-green-600 m-0.3 text-right",key:e[0],style:w(`background-image: -webkit-linear-gradient(right, rgb(0, 255, 0, 0.2), rgb(0, 255, 0, 0.2) ${e[2]}%, transparent ${e[2]}%)`)},d(e[0])+" | "+d(e[1]),5))),128)),A,(o(!0),c(b,null,f(y(S),e=>(o(),c("p",{class:"text-red-600 p-0.3 text-right",key:e[0],style:w(`background-image: -webkit-linear-gradient(right, rgb(255, 0, 0, 0.4), rgb(255, 0, 0, 0.4) ${e[2]}%, transparent ${e[2]}%)`)},d(e[0])+" | "+d(e[1]),5))),128))])])]))}});export{z as default};
