import{e as B,J as E,f as v,D as V,E as x,o,c as l,a as i,F as N,x as y,y as w,K as k,A as g,d as S,b as $}from"./index.fea22931.js";import{u as D}from"./binanceStore.fa151b44.js";const A={class:"order-book"},C={class:"pr-12 lg:p-0"},I={class:"text-slate-300"},R=i("hr",{class:"my-2"},null,-1),W={class:"text-slate-300"},j=B({setup(T){const h=E(),c=D(),u=h.params.id,a=v(15);c.connectToTickerStream(u.toLowerCase()),c.fetchDepthSnapShot(u);const{getDepthSnapshot:r}=V(c),f=x(()=>{var d,m,p;let t=v(0),n=v(0),e=(d=r.value.asks)==null?void 0:d.slice(0,a.value).map(s=>s[1]).sort((s,b)=>Number(s)-Number(b));return e&&(t.value=Number(e[0]),n.value=Number(e[a.value-1])),(m=r.value.asks)==null||m.slice(0,a.value).map(s=>{s[2]=(10+(Number(s[1])-t.value)/(n.value-t.value)*90).toString()}),(p=r.value.asks)==null?void 0:p.slice(0,a.value).reverse()}),_=x(()=>{var d,m,p;let t=v(0),n=v(0),e=(d=r.value.bids)==null?void 0:d.slice(0,a.value).map(s=>s[1]).sort((s,b)=>Number(s)-Number(b));return e&&(t.value=Number(e[0]),n.value=Number(e[a.value-1])),(m=r.value.bids)==null||m.slice(0,a.value).map(s=>{s[2]=(10+(Number(s[1])-t.value)/(n.value-t.value)*90).toString()}),(p=r.value.bids)==null?void 0:p.slice(0,a.value)});return(t,n)=>(o(),l("section",A,[i("div",C,[(o(!0),l(N,null,y(w(f),e=>(o(),l("p",{class:"text-green-600 m-0.3 text-right",key:e[0],style:k(`background-image: -webkit-linear-gradient(right, rgb(50, 205, 50, 0.25), rgb(50, 205, 50, 0.25) ${e[2]}%, transparent ${e[2]}%)`)},[i("span",I,g(Number(e[0])),1),S(" | "+g(e[1]),1)],4))),128))]),R,i("div",null,[(o(!0),l(N,null,y(w(_),e=>(o(),l("p",{class:"text-red-500 p-0.3 text-right",key:e[0],style:k(`background-image: -webkit-linear-gradient(right, rgb(255, 69, 0, 0.25), rgb(255, 69, 0, 0.25) ${e[2]}%, transparent ${e[2]}%)`)},[i("span",W,g(Number(e[0])),1),S(" | "+g(e[1]),1)],4))),128))])]))}}),O={class:"flex lg:flex-row flex-col"},F=B({setup(T){const c=E().params.id,u="vue-trading-view",a={width:"100%",height:"100%",symbol:`BINANCE:${c}`,interval:"15",timezone:"Europe/Belgrade",theme:"dark",style:"1",locale:"en",toolbar_bg:"#f1f3f6",enable_publishing:!1,hide_side_toolbar:!1,studies:["Volume@tv-basicstudies","VWAP@tv-basicstudies"]};return(_=>{const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://s3.tradingview.com/tv.js",t.onload=_,document.getElementsByTagName("head")[0].appendChild(t)})(()=>{new window.TradingView.widget(Object.assign({container_id:u},a))}),(_,t)=>(o(),l("section",O,[i("section",{id:u,class:"w-screen h-screen lg:w-5/6 xl:w-11/12"}),$(j)]))}});export{F as default};
